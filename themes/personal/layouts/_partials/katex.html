{{- /*
Renders KaTeX CSS, the KaTeX library, and the auto-render script.

Gated by site.Params.katex.enabled (default: true).
Set  katex.enabled: false  in hugo.yaml → params to disable entirely.

Supported delimiters (configured in the auto-render call below):
  Inline  :  $…$   or  \(…\)
  Display :  $$…$$  or  \[…\]
*/}}

{{- if ne (index .Site.Params.katex "enabled") false }}

<!-- KaTeX 0.16.9 – stylesheet -->
<link rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" 
      integrity="sha512-fHwaWebuwA7NSF5Qg/af4UeDx9XqUpYpOGgubo3yWu+b2IQR4UeQwbb42Ti7gVAjNtVoI/I9TEoYeu9omwcC6g==" 
      crossorigin="anonymous" 
      referrerpolicy="no-referrer" />

<!-- KaTeX 0.16.9 – library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js" 
        integrity="sha512-LQNxIMR5rXv7o+b1l8+N1EZMfhG7iFZ9HhnbJkTp4zjNr5Wvst75AqUeFDxeRUa7l5vEDyUiAip//r+EFLLCyA==" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer"></script>

<!-- KaTeX 0.16.9 – auto-render contrib -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js" 
        integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer"></script>

<!-- Kick off auto-rendering once the DOM is ready -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    renderMathInElement(document.body, {
      delimiters: [
        { text: '$$', display: true  },
        { text: '$',  display: false }
      ],
      throwOnError: false
    });
  });
</script>

{{- end }}
